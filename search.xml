<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>HwTestReport：为unittest专属定制的测试报告</title>
      <link href="/hwttk-unittest-hwtestreport/"/>
      <url>/hwttk-unittest-hwtestreport/</url>
      
        <content type="html"><![CDATA[<p>作为 <a href="https://github.com/hongweifuture/HwTTK" target="_blank" rel="noopener">HwTTK（Test Tool Kit ）</a>中的一员，<code>HwTestReport</code>具有以下特性：</p><ul><li>支持<code>Python2</code>和<code>Python3</code>，自动兼容，无需设置</li><li>支持<code>中文</code>和<code>英文</code>手动切换</li><li>支持<code>Selenium</code>和<code>Appium</code>截图报告嵌入<code>Html</code>报告中，可根据需求设置开启或关闭截图展示功能</li><li>样式美化需要网络支持，采用CDN加持，如果本地使用请下载<code>离线版本</code></li><li>增加测试人员条目、通过率统计、所有可能情况筛选功能等</li><li>增加<code>饼图</code>数据展示、测试详情数据展示</li><li>增加<code>返回顶部</code>按钮</li><li>其他细节修改</li></ul><p>源自 <a href="http://tungwaiyip.info/software/HTMLTestRunner.html" target="_blank" rel="noopener">tungwaiyip.info</a> 的<code>0.82</code>版本 <code>HTMLTestRunner</code></p><p><a name="f7457af0"></a></p><h2 id="当前的环境"><a href="#当前的环境" class="headerlink" title="当前的环境"></a>当前的环境</h2><table><thead><tr><th>环境</th><th>版本</th></tr></thead><tbody><tr><td>Python2</td><td>2.7.17</td></tr><tr><td>Python3</td><td>3.7.4</td></tr><tr><td>selenium</td><td>3.141.0</td></tr><tr><td>geckodriver</td><td>v0.26.0</td></tr><tr><td>Firefox</td><td>72.0.1 (64 位)</td></tr></tbody></table><p><a name="715d8d1e"></a></p><h2 id="中英文报告实例"><a href="#中英文报告实例" class="headerlink" title="中英文报告实例"></a>中英文报告实例</h2><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> unittest<span class="token comment" spellcheck="true"># 中文 Chinese</span><span class="token keyword">from</span> HwTestReport <span class="token keyword">import</span> HTMLTestReport<span class="token comment" spellcheck="true"># 英文 English</span><span class="token keyword">from</span> HwTestReport <span class="token keyword">import</span> HTMLTestReportEN<span class="token keyword">class</span> <span class="token class-name">Case_assert_1</span><span class="token punctuation">(</span>unittest<span class="token punctuation">.</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">setUp</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>    <span class="token keyword">def</span> <span class="token function">tearDown</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>    <span class="token keyword">def</span> <span class="token function">test_ok</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">test_faile</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">test_error</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">raise</span> Exception<span class="token keyword">class</span> <span class="token class-name">Case_assert_2</span><span class="token punctuation">(</span>unittest<span class="token punctuation">.</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">setUp</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>    <span class="token keyword">def</span> <span class="token function">tearDown</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>    <span class="token keyword">def</span> <span class="token function">test_ok</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>assertTrue<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token keyword">class</span> <span class="token class-name">Case_assert_3</span><span class="token punctuation">(</span>unittest<span class="token punctuation">.</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">setUp</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>    <span class="token keyword">def</span> <span class="token function">tearDown</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>    <span class="token keyword">def</span> <span class="token function">test_error</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">raise</span> Exception<span class="token keyword">class</span> <span class="token class-name">Case_assert_4</span><span class="token punctuation">(</span>unittest<span class="token punctuation">.</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">setUp</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>    <span class="token keyword">def</span> <span class="token function">tearDown</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>    <span class="token keyword">def</span> <span class="token function">test_faile</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    suite <span class="token operator">=</span> unittest<span class="token punctuation">.</span>TestSuite<span class="token punctuation">(</span><span class="token punctuation">)</span>    suite<span class="token punctuation">.</span>addTest<span class="token punctuation">(</span>Case_assert_1<span class="token punctuation">(</span><span class="token string">'test_ok'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    suite<span class="token punctuation">.</span>addTest<span class="token punctuation">(</span>Case_assert_1<span class="token punctuation">(</span><span class="token string">'test_faile'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    suite<span class="token punctuation">.</span>addTest<span class="token punctuation">(</span>Case_assert_1<span class="token punctuation">(</span><span class="token string">'test_error'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    suite<span class="token punctuation">.</span>addTest<span class="token punctuation">(</span>Case_assert_2<span class="token punctuation">(</span><span class="token string">'test_ok'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    suite<span class="token punctuation">.</span>addTest<span class="token punctuation">(</span>Case_assert_3<span class="token punctuation">(</span><span class="token string">'test_error'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    suite<span class="token punctuation">.</span>addTest<span class="token punctuation">(</span>Case_assert_4<span class="token punctuation">(</span><span class="token string">'test_faile'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># English：HTMLTestReportEN</span>    <span class="token keyword">with</span> open<span class="token punctuation">(</span><span class="token string">'./HwTestReport.html'</span><span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> report<span class="token punctuation">:</span>        runner <span class="token operator">=</span> HTMLTestReport<span class="token punctuation">(</span>stream<span class="token operator">=</span>report<span class="token punctuation">,</span>                                verbosity<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>                                title<span class="token operator">=</span><span class="token string">'HwTestReport 测试'</span><span class="token punctuation">,</span>                                description<span class="token operator">=</span><span class="token string">'带饼图，带详情'</span><span class="token punctuation">,</span>                                tester<span class="token operator">=</span><span class="token string">'Johnny'</span><span class="token punctuation">)</span>        runner<span class="token punctuation">.</span>run<span class="token punctuation">(</span>suite<span class="token punctuation">)</span></code></pre><p><a name="7ff82bce"></a></p><h2 id="带截图的报告实例"><a href="#带截图的报告实例" class="headerlink" title="带截图的报告实例"></a>带截图的报告实例</h2><p>此截图功能是针对 <a href="https://selenium.dev/downloads/" target="_blank" rel="noopener">Selenium</a>和 <a href="http://appium.io/" target="_blank" rel="noopener">Appium</a>开发，支持<code>Python2</code>和<code>Python3</code>，不同的浏览器选择不同驱动</p><ul><li><p><code>Selenium</code></p><pre class=" language-bash"><code class="language-bash">pip <span class="token function">install</span> seleniumconda <span class="token function">install</span> selenium</code></pre></li><li><p><code>Firefox</code></p><ul><li><a href="http://ftp.mozilla.org/pub/firefox/releases/" target="_blank" rel="noopener">火狐浏览器历史版本下载</a></li><li><a href="https://github.com/mozilla/geckodriver/releases" target="_blank" rel="noopener">geckodriver驱动下载地址</a></li><li><a href="https://firefox-source-docs.mozilla.org/testing/geckodriver/Support.html" target="_blank" rel="noopener">驱动与浏览器版本对应关系总结</a></li></ul></li><li><p><code>Chrome</code>，对应版本请查看版本文件夹内的<code>note.txt</code></p><ul><li><a href="http://chromedriver.storage.googleapis.com/index.html" target="_blank" rel="noopener">chromedriver驱动官方下载地址</a></li><li><a href="https://npm.taobao.org/mirrors/chromedriver/" target="_blank" rel="noopener">chromedriver驱动淘宝下载地址</a></li><li><a href="https://google_chrome.en.downloadastro.com/old_versions/" target="_blank" rel="noopener">Chrome浏览器历史版本下载</a></li><li><a href="https://www.slimjet.com/chrome/google-chrome-old-version.php" target="_blank" rel="noopener">驱动与浏览器版本对应关系总结</a></li></ul></li><li><p><a href="http://selenium-release.storage.googleapis.com/index.html" target="_blank" rel="noopener">IE浏览器驱动IEDriverServer</a></p></li><li><p><a href="https://developer.microsoft.com/en-us/microsoft-edge/tools/webdriver/" target="_blank" rel="noopener">Edge浏览器驱动MicrosoftWebDriver</a></p></li><li><p><a href="https://github.com/operasoftware/operachromiumdriver/releases" target="_blank" rel="noopener">Opera浏览器驱动operadriver</a></p></li><li><p><a href="https://phantomjs.org/" target="_blank" rel="noopener">PhantomJS浏览器驱动：phantomjs</a></p><blockquote><p>selenium已经放弃PhantomJS，使用需将<code>selenium</code>降级为<code>2.48.0</code>版本，或者使用火狐或者谷歌无界面浏览器，推荐<a href="https://developers.google.com/web/updates/2017/04/headless-chrome" target="_blank" rel="noopener">Headless Chrome</a>，还是要了解一下<a href="https://developer.mozilla.org/en-US/docs/Mozilla/Firefox/Headless_mode" target="_blank" rel="noopener">Headless Firefox</a></p></blockquote></li></ul><p>驱动需要放在和<code>python</code>启动文件在同一个目录，或添加环境变量，如</p><ul><li>windows：”D:\python\venv\Scripts\geckodriver.exe”</li><li>linux：”/opt/python/geckodriver.exe”</li></ul><p><a name="5f4ae1a6"></a></p><h3 id="截图功能使用"><a href="#截图功能使用" class="headerlink" title="截图功能使用"></a>截图功能使用</h3><ol><li><strong>增加 <code>images</code> 参数</strong>，默认为<code>False</code>，所以不需要截图可以不添加此参数，参考上面</li><li>初始化<code>imgs</code>，必须为<code>driver</code><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">setUp</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  self<span class="token punctuation">.</span>imgs<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token comment" spellcheck="true"># （可选）初始化截图列表</span>  self<span class="token punctuation">.</span>driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Firefox<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></li></ol><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> unittest<span class="token keyword">from</span> HwTestReport <span class="token keyword">import</span> HTMLTestReport<span class="token keyword">from</span> HwTestReport <span class="token keyword">import</span> HTMLTestReportEN<span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver<span class="token keyword">class</span> <span class="token class-name">Case_baidu</span><span class="token punctuation">(</span>unittest<span class="token punctuation">.</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">'''    在python3中因为unittest运行机制变动，在使用setUp/tearDown中初始化/退出driver时，    可能会出现用例执行失败没有截图的问题，但我没有遇到过，如果出现请使用setUpClass/tearDownClass的用法    '''</span>    <span class="token keyword">def</span> <span class="token function">setUp</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>imgs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        self<span class="token punctuation">.</span>driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Firefox<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">tearDown</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">get_screenshot</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>imgs<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>get_screenshot_as_base64<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token boolean">True</span>    <span class="token keyword">def</span> <span class="token function">test_baidu_search</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token triple-quoted-string string">'''用例通过，没有报告内容，有多张截图'''</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"https://www.baidu.com"</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>get_screenshot<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element_by_id<span class="token punctuation">(</span><span class="token string">'kw'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span>u<span class="token string">'百度一下'</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>get_screenshot<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element_by_id<span class="token punctuation">(</span><span class="token string">'su'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>get_screenshot<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">test_baidu_assert_ok</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token triple-quoted-string string">'''用例通过，有报告内容，有截图'''</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"https://www.baidu.com"</span><span class="token punctuation">)</span>        hao123 <span class="token operator">=</span> self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element_by_xpath<span class="token punctuation">(</span><span class="token string">'//*[@id="u1"]/a[2]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text        <span class="token keyword">print</span><span class="token punctuation">(</span>hao123<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>get_screenshot<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>hao123<span class="token punctuation">,</span> <span class="token string">'hao123'</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">test_baidu_assert_ok_noimg</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token triple-quoted-string string">'''用例通过，有报告内容，没有截图'''</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"https://www.baidu.com"</span><span class="token punctuation">)</span>        news <span class="token operator">=</span> self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element_by_xpath<span class="token punctuation">(</span><span class="token string">'//*[@id="u1"]/a[1]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text        <span class="token keyword">print</span><span class="token punctuation">(</span>news<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>news<span class="token punctuation">,</span> u<span class="token string">"新闻"</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">test_baidu_assert_faile</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token triple-quoted-string string">'''用例失败，带有失败内容和截图'''</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"https://www.baidu.com"</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>get_screenshot<span class="token punctuation">(</span><span class="token punctuation">)</span>        news <span class="token operator">=</span> self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element_by_xpath<span class="token punctuation">(</span><span class="token string">'//*[@id="u1"]/a[1]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text        <span class="token keyword">print</span><span class="token punctuation">(</span>news<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>get_screenshot<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element_by_xpath<span class="token punctuation">(</span><span class="token string">'//*[@id="u1"]/a[1]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>get_screenshot<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>news<span class="token punctuation">,</span> <span class="token string">'hao123'</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">test_baidu_assert_error</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token triple-quoted-string string">''''用例错误，带有指定错误内容和截图'''</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"https://www.baidu.com"</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>get_screenshot<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">raise</span> EnvironmentError<span class="token punctuation">(</span><span class="token string">'Current environment can not testing!'</span><span class="token punctuation">)</span><span class="token keyword">class</span> <span class="token class-name">Case_qq</span><span class="token punctuation">(</span>unittest<span class="token punctuation">.</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">setUp</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>imgs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        self<span class="token punctuation">.</span>driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Firefox<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">tearDown</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">test_qq_index_faile</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token triple-quoted-string string">'''用例错误，带有错误内容和没有截图'''</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"https://www.qq.com"</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element_by_id<span class="token punctuation">(</span><span class="token string">'sougouTxt'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span>u<span class="token string">'搜狗搜索'</span><span class="token punctuation">)</span>        <span class="token comment" spellcheck="true"># self.driver.find_element_by_id('sougouTxt').send_keys(u'搜狗搜索')</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element_by_id<span class="token punctuation">(</span><span class="token string">'searchBtn'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>assertIn<span class="token punctuation">(</span>u<span class="token string">"搜狗"</span><span class="token punctuation">,</span> u<span class="token string">'搜索'</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">test_qq_index_ok</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token triple-quoted-string string">'''用例通过，没有内容和没有截图'''</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"https://www.qq.com"</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element_by_id<span class="token punctuation">(</span><span class="token string">'sougouTxt'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span>u<span class="token string">'搜狗搜索'</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element_by_id<span class="token punctuation">(</span><span class="token string">'searchBtn'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">class</span> <span class="token class-name">Case_163</span><span class="token punctuation">(</span>unittest<span class="token punctuation">.</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">setUp</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>imgs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        self<span class="token punctuation">.</span>driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Firefox<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">tearDown</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">test_163_ok</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token triple-quoted-string string">'''通过 没有内容和截图'''</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"https://www.163.com/"</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    suite1 <span class="token operator">=</span> unittest<span class="token punctuation">.</span>TestLoader<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>loadTestsFromTestCase<span class="token punctuation">(</span>Case_baidu<span class="token punctuation">)</span>    suite2 <span class="token operator">=</span> unittest<span class="token punctuation">.</span>TestLoader<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>loadTestsFromTestCase<span class="token punctuation">(</span>Case_qq<span class="token punctuation">)</span>    suite3 <span class="token operator">=</span> unittest<span class="token punctuation">.</span>TestLoader<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>loadTestsFromTestCase<span class="token punctuation">(</span>Case_163<span class="token punctuation">)</span>    suites <span class="token operator">=</span> unittest<span class="token punctuation">.</span>TestSuite<span class="token punctuation">(</span><span class="token punctuation">)</span>    suites<span class="token punctuation">.</span>addTests<span class="token punctuation">(</span><span class="token punctuation">[</span>suite1<span class="token punctuation">,</span> suite2<span class="token punctuation">,</span> suite3<span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># HTMLTestReport or HTMLTestReportEN</span>    <span class="token keyword">with</span> open<span class="token punctuation">(</span><span class="token string">'./HwTestReportIMG.html'</span><span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> report<span class="token punctuation">:</span>        runner <span class="token operator">=</span> HTMLTestReportEN<span class="token punctuation">(</span>stream<span class="token operator">=</span>report<span class="token punctuation">,</span>                                verbosity<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>                                images<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>                                title<span class="token operator">=</span><span class="token string">'HwTestReport 测试'</span><span class="token punctuation">,</span>                                description<span class="token operator">=</span><span class="token string">'带截图，带饼图，带详情'</span><span class="token punctuation">,</span>                                tester<span class="token operator">=</span><span class="token string">'Johnny'</span><span class="token punctuation">)</span></code></pre><p><a name="5235bc34"></a></p><h2 id="离线报告"><a href="#离线报告" class="headerlink" title="离线报告"></a>离线报告</h2><p>使用方法和上述一致，只是选择带<code>local</code>的版本即可，美化所需的样式在<code>/static/</code>目录下，故<code>/static/</code>目录要和<code>生成的报告在相同目录</code></p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> unittest<span class="token keyword">from</span> HwTestReport_local <span class="token keyword">import</span> HTMLTestReport<span class="token keyword">from</span> HwTestReport_local <span class="token keyword">import</span> HTMLTestReportEN</code></pre><p><a name="19ef7f9b"></a></p><h2 id="关键字说明"><a href="#关键字说明" class="headerlink" title="关键字说明"></a>关键字说明</h2><table><thead><tr><th>关键字</th><th>说明</th></tr></thead><tbody><tr><td>HTMLTestReport.py</td><td>源文件</td></tr><tr><td>HTMLTestReport_local.py</td><td>离线源文件</td></tr><tr><td>HTMLTestReport</td><td>生成中文报告的类</td></tr><tr><td>HTMLTestReportEN</td><td>生成英文报告的类</td></tr><tr><td>stream</td><td>生成的报告文件</td></tr><tr><td>verbosity</td><td>运行之后打印的格式，默认值为1，有0，1，2三个值，<br />0 (静默模式): 你只能获得总的测试用例数和总的结果 比如 总共100个 失败20 成功80<br />)1 (默认模式): 非常类似静默模式 只是在每个成功的用例前面有个“.” 每个失败的用例前面有个 “F”<br />2 (详细模式):测试结果会显示每个测试用例的所有相关的信息,并且你在命令行里加入不同的参数可以起到一样的效果，<br />源码在/Lib/unittest/runner.py</td></tr><tr><td>images</td><td>True 为开启Selenium或Appium截图，False或不填为关闭截图模式</td></tr><tr><td>title</td><td>标题，不填默认为“测试报告”</td></tr><tr><td>description</td><td>描述，不填默认为空</td></tr><tr><td>tester</td><td>测试人员，不填默认为“Johnny”</td></tr></tbody></table><p><a name="645dbc55"></a></p><h2 id="预览"><a href="#预览" class="headerlink" title="预览"></a>预览</h2><p><img src="https://cdn.nlark.com/yuque/0/2020/png/373062/1581754110301-9cc7a54c-c520-4eb1-8057-cbed51568b51.png#align=left&display=inline&height=768&originHeight=768&originWidth=1366&size=0&status=done&style=none&width=1366" alt=""></p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/373062/1581754110335-25228bae-5ea7-42a4-ad1d-fcd75662057a.png#align=left&display=inline&height=768&originHeight=768&originWidth=1366&size=0&status=done&style=none&width=1366" alt=""></p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/373062/1581754110321-e40d8ba9-5086-4084-b6c4-62d3fcf8a800.png#align=left&display=inline&height=768&originHeight=768&originWidth=1366&size=0&status=done&style=none&width=1366" alt=""></p><p>欢迎关注：</p><ul><li><a href="https://github.com/hongweifuture/HwTestReport" target="_blank" rel="noopener">该项目所在Github及源码下载地址</a></li><li><a href="https://github.com/hongweifuture" target="_blank" rel="noopener">Github</a></li><li><a href="https://blog.csdn.net/z_johnny" target="_blank" rel="noopener">CSDN</a></li><li><a href="https://www.zhwei.cn/">My Blog</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> HwTTK </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTMLTestRunner </tag>
            
            <tag> unittest </tag>
            
            <tag> python </tag>
            
            <tag> Appium </tag>
            
            <tag> Selenium </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL 教程：单表查询</title>
      <link href="/databases-mysql-singl-query/"/>
      <url>/databases-mysql-singl-query/</url>
      
        <content type="html"><![CDATA[<p><a name="3cb64573"></a></p><h1 id="创建数据库并插入数据"><a href="#创建数据库并插入数据" class="headerlink" title="创建数据库并插入数据"></a>创建数据库并插入数据</h1><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true"># 创建表，数据类型请自行查询</span><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> fruits <span class="token punctuation">(</span>  id <span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  sid <span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  NAME CHAR<span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  price <span class="token keyword">DECIMAL</span> <span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true"># 表中插入数据</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> fruits<span class="token keyword">VALUES</span>  <span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token string">'apple'</span><span class="token punctuation">,</span> <span class="token number">5.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token string">'blackberry'</span><span class="token punctuation">,</span> <span class="token number">10.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token number">102</span><span class="token punctuation">,</span> <span class="token string">'orange'</span><span class="token punctuation">,</span> <span class="token number">11.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'4'</span><span class="token punctuation">,</span> <span class="token number">105</span><span class="token punctuation">,</span> <span class="token string">'melon'</span><span class="token punctuation">,</span> <span class="token number">8.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'5'</span><span class="token punctuation">,</span> <span class="token number">102</span><span class="token punctuation">,</span> <span class="token string">'banana'</span><span class="token punctuation">,</span> <span class="token number">10.3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'6'</span><span class="token punctuation">,</span> <span class="token number">102</span><span class="token punctuation">,</span> <span class="token string">'grape'</span><span class="token punctuation">,</span> <span class="token number">5.3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'7'</span><span class="token punctuation">,</span> <span class="token number">103</span><span class="token punctuation">,</span> <span class="token string">'coconut'</span><span class="token punctuation">,</span> <span class="token number">9.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'8'</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token string">'cherry'</span><span class="token punctuation">,</span> <span class="token number">3.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'9'</span><span class="token punctuation">,</span> <span class="token number">103</span><span class="token punctuation">,</span> <span class="token string">'apricot'</span><span class="token punctuation">,</span> <span class="token number">2.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'10'</span><span class="token punctuation">,</span> <span class="token number">104</span><span class="token punctuation">,</span> <span class="token string">'lemon'</span><span class="token punctuation">,</span> <span class="token number">6.4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'11'</span><span class="token punctuation">,</span> <span class="token number">104</span><span class="token punctuation">,</span> <span class="token string">'berry'</span><span class="token punctuation">,</span> <span class="token number">7.6</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'12'</span><span class="token punctuation">,</span> <span class="token number">106</span><span class="token punctuation">,</span> <span class="token string">'mango'</span><span class="token punctuation">,</span> <span class="token number">15.6</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><a name="4178536f"></a></p><h1 id="单表查询"><a href="#单表查询" class="headerlink" title="单表查询"></a>单表查询</h1><p><a name="9f380f34"></a></p><h2 id="查询所有字段"><a href="#查询所有字段" class="headerlink" title="查询所有字段"></a>查询所有字段</h2><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> fruits<span class="token punctuation">;</span>id    sid    name    price<span class="token number">1</span>    <span class="token number">101</span>    apple    <span class="token number">5.20</span><span class="token number">2</span>    <span class="token number">101</span>    blackberry    <span class="token number">10.20</span><span class="token number">3</span>    <span class="token number">102</span>    orange    <span class="token number">11.20</span><span class="token number">4</span>    <span class="token number">105</span>    melon    <span class="token number">8.20</span><span class="token number">5</span>    <span class="token number">102</span>    banana    <span class="token number">10.30</span><span class="token number">6</span>    <span class="token number">102</span>    grape    <span class="token number">5.30</span><span class="token number">7</span>    <span class="token number">103</span>    coconut    <span class="token number">9.20</span><span class="token number">8</span>    <span class="token number">101</span>    cherry    <span class="token number">3.20</span><span class="token number">9</span>    <span class="token number">103</span>    apricot    <span class="token number">2.20</span><span class="token number">10</span>    <span class="token number">104</span>    lemon    <span class="token number">6.40</span><span class="token number">11</span>    <span class="token number">104</span>    berry    <span class="token number">7.60</span><span class="token number">12</span>    <span class="token number">106</span>    mango    <span class="token number">15.60</span></code></pre><p><a name="5fae6f01"></a></p><h2 id="查询指定字段"><a href="#查询指定字段" class="headerlink" title="查询指定字段"></a>查询指定字段</h2><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> ID<span class="token punctuation">,</span>NAME <span class="token keyword">FROM</span> fruits<span class="token punctuation">;</span>ID    NAME<span class="token number">1</span>    apple<span class="token number">2</span>    blackberry<span class="token number">3</span>    orange<span class="token number">4</span>    melon<span class="token number">5</span>    banana<span class="token number">6</span>    grape<span class="token number">7</span>    coconut<span class="token number">8</span>    cherry<span class="token number">9</span>    apricot<span class="token number">10</span>    lemon<span class="token number">11</span>    berry<span class="token number">12</span>    mango</code></pre><p><a name="920db34f"></a></p><h2 id="查询指定条件的字段"><a href="#查询指定条件的字段" class="headerlink" title="查询指定条件的字段"></a>查询指定条件的字段</h2><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> fruits <span class="token keyword">WHERE</span> NAME <span class="token operator">=</span> <span class="token string">'BANANA'</span><span class="token punctuation">;</span>id    sid    name    price<span class="token number">5</span>    <span class="token number">102</span>    banana    <span class="token number">10.30</span></code></pre><p><a name="a6bf5c47"></a></p><h2 id="带IN关键字的查询"><a href="#带IN关键字的查询" class="headerlink" title="带IN关键字的查询"></a>带IN关键字的查询</h2><p>IN关键字：IN(xx，yy，…) 满足条件范围内的一个值即为匹配项，括号内的值，或的关系</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> fruits <span class="token keyword">WHERE</span> NAME <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token string">'BANANA'</span><span class="token punctuation">,</span><span class="token string">'ORANGE'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>id    sid    name    price<span class="token number">3</span>    <span class="token number">102</span>    orange    <span class="token number">11.20</span><span class="token number">5</span>    <span class="token number">102</span>    banana    <span class="token number">10.30</span></code></pre><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> fruits <span class="token keyword">WHERE</span> ID <span class="token operator">NOT</span> <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>id    sid    name    price<span class="token number">1</span>    <span class="token number">101</span>    apple    <span class="token number">5.20</span><span class="token number">2</span>    <span class="token number">101</span>    blackberry    <span class="token number">10.20</span><span class="token number">4</span>    <span class="token number">105</span>    melon    <span class="token number">8.20</span><span class="token number">5</span>    <span class="token number">102</span>    banana    <span class="token number">10.30</span><span class="token number">6</span>    <span class="token number">102</span>    grape    <span class="token number">5.30</span><span class="token number">7</span>    <span class="token number">103</span>    coconut    <span class="token number">9.20</span><span class="token number">9</span>    <span class="token number">103</span>    apricot    <span class="token number">2.20</span><span class="token number">10</span>    <span class="token number">104</span>    lemon    <span class="token number">6.40</span><span class="token number">11</span>    <span class="token number">104</span>    berry    <span class="token number">7.60</span><span class="token number">12</span>    <span class="token number">106</span>    mango    <span class="token number">15.60</span></code></pre><p><a name="0e7df0eb"></a></p><h2 id="带BETWEEN-AND-的范围查询"><a href="#带BETWEEN-AND-的范围查询" class="headerlink" title="带BETWEEN AND 的范围查询"></a>带BETWEEN AND 的范围查询</h2><p>BETWEEN … AND … : 在…到…范围内的值即为匹配项</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> fruits <span class="token keyword">WHERE</span> ID <span class="token operator">BETWEEN</span> <span class="token number">3</span> <span class="token operator">AND</span> <span class="token number">9</span><span class="token punctuation">;</span>id    sid    name    price<span class="token number">3</span>    <span class="token number">102</span>    orange    <span class="token number">11.20</span><span class="token number">4</span>    <span class="token number">105</span>    melon    <span class="token number">8.20</span><span class="token number">5</span>    <span class="token number">102</span>    banana    <span class="token number">10.30</span><span class="token number">6</span>    <span class="token number">102</span>    grape    <span class="token number">5.30</span><span class="token number">7</span>    <span class="token number">103</span>    coconut    <span class="token number">9.20</span><span class="token number">8</span>    <span class="token number">101</span>    cherry    <span class="token number">3.20</span><span class="token number">9</span>    <span class="token number">103</span>    apricot    <span class="token number">2.20</span></code></pre><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> fruits <span class="token keyword">WHERE</span> ID <span class="token operator">NOT</span> <span class="token operator">BETWEEN</span> <span class="token number">5</span> <span class="token operator">AND</span> <span class="token number">11</span><span class="token punctuation">;</span>id    sid    name    price<span class="token number">1</span>    <span class="token number">101</span>    apple    <span class="token number">5.20</span><span class="token number">2</span>    <span class="token number">101</span>    blackberry    <span class="token number">10.20</span><span class="token number">3</span>    <span class="token number">102</span>    orange    <span class="token number">11.20</span><span class="token number">4</span>    <span class="token number">105</span>    melon    <span class="token number">8.20</span><span class="token number">12</span>    <span class="token number">106</span>    mango    <span class="token number">15.60</span></code></pre><p><a name="818fed55"></a></p><h2 id="带LIKE的字符匹配查询"><a href="#带LIKE的字符匹配查询" class="headerlink" title="带LIKE的字符匹配查询"></a>带LIKE的字符匹配查询</h2><p>LIKE: 模糊查询，和LIKE一起使用的通配符有  “%”、”_”</p><table><thead><tr><th>通配符</th><th>功能</th></tr></thead><tbody><tr><td>“%”</td><td>作用是能匹配任意长度的字符。</td></tr><tr><td>“_”</td><td>只能匹配任意一个字符</td></tr></tbody></table><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> fruits <span class="token keyword">WHERE</span> NAME <span class="token operator">LIKE</span> <span class="token string">'black%'</span><span class="token punctuation">;</span>id    sid    name    price<span class="token number">2</span>    <span class="token number">101</span>    blackberry    <span class="token number">10.20</span></code></pre><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> fruits <span class="token keyword">WHERE</span> NAME <span class="token operator">LIKE</span> <span class="token string">'b%y'</span><span class="token punctuation">;</span>id    sid    name    price<span class="token number">2</span>    <span class="token number">101</span>    blackberry    <span class="token number">10.20</span><span class="token number">11</span>    <span class="token number">104</span>    berry    <span class="token number">7.60</span></code></pre><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> fruits <span class="token keyword">WHERE</span> NAME <span class="token operator">LIKE</span> <span class="token string">'_ER_Y'</span><span class="token punctuation">;</span>id    sid    name    price<span class="token number">11</span>    <span class="token number">104</span>    berry    <span class="token number">7.60</span></code></pre><p><a name="6483b0de"></a></p><h1 id="逻辑与之带AND的多条件查询"><a href="#逻辑与之带AND的多条件查询" class="headerlink" title="逻辑与之带AND的多条件查询"></a>逻辑与之带AND的多条件查询</h1><p>and：同时满足条件</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span>  <span class="token operator">*</span><span class="token keyword">FROM</span>  fruits<span class="token keyword">WHERE</span> id <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>  <span class="token operator">AND</span> sid <span class="token operator">></span> <span class="token number">102</span><span class="token punctuation">;</span>id    sid    name    price<span class="token number">4</span>    <span class="token number">105</span>    melon    <span class="token number">8.20</span><span class="token number">10</span>    <span class="token number">104</span>    lemon    <span class="token number">6.40</span></code></pre><p><a name="0c255859"></a></p><h1 id="逻辑或之OR的多条件查询"><a href="#逻辑或之OR的多条件查询" class="headerlink" title="逻辑或之OR的多条件查询"></a>逻辑或之OR的多条件查询</h1><p>OR:有一个满足即可，类似in</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span>  <span class="token operator">*</span><span class="token keyword">FROM</span>  fruits<span class="token keyword">WHERE</span> id <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>  <span class="token operator">OR</span> sid <span class="token operator">></span> <span class="token number">102</span><span class="token punctuation">;</span>id    sid    name    price<span class="token number">2</span>    <span class="token number">101</span>    blackberry    <span class="token number">10.20</span><span class="token number">4</span>    <span class="token number">105</span>    melon    <span class="token number">8.20</span><span class="token number">6</span>    <span class="token number">102</span>    grape    <span class="token number">5.30</span><span class="token number">7</span>    <span class="token number">103</span>    coconut    <span class="token number">9.20</span><span class="token number">8</span>    <span class="token number">101</span>    cherry    <span class="token number">3.20</span><span class="token number">9</span>    <span class="token number">103</span>    apricot    <span class="token number">2.20</span><span class="token number">10</span>    <span class="token number">104</span>    lemon    <span class="token number">6.40</span><span class="token number">11</span>    <span class="token number">104</span>    berry    <span class="token number">7.60</span><span class="token number">12</span>    <span class="token number">106</span>    mango    <span class="token number">15.60</span></code></pre><p><a name="f7a4de5c"></a></p><h1 id="关键字DISTINCT查询不重复的数据"><a href="#关键字DISTINCT查询不重复的数据" class="headerlink" title="关键字DISTINCT查询不重复的数据"></a>关键字DISTINCT查询不重复的数据</h1><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span>  <span class="token keyword">DISTINCT</span> SID<span class="token keyword">FROM</span>  fruits<span class="token keyword">WHERE</span> id <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>  <span class="token operator">OR</span> sid <span class="token operator">></span> <span class="token number">102</span><span class="token punctuation">;</span>SID<span class="token number">101</span><span class="token number">105</span><span class="token number">102</span><span class="token number">103</span><span class="token number">104</span><span class="token number">106</span></code></pre><p><a name="e955e677"></a></p><h1 id="ORDER-BY对查询的结果排序"><a href="#ORDER-BY对查询的结果排序" class="headerlink" title="ORDER BY对查询的结果排序"></a>ORDER BY对查询的结果排序</h1><p><a name="55a66792"></a></p><h2 id="ORDER-BY-字段-DESC-逆序排列"><a href="#ORDER-BY-字段-DESC-逆序排列" class="headerlink" title="ORDER BY 字段 DESC 逆序排列"></a>ORDER BY 字段 DESC 逆序排列</h2><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span>  SID<span class="token keyword">FROM</span>  fruits<span class="token keyword">WHERE</span> id <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>  <span class="token operator">OR</span> sid <span class="token operator">></span> <span class="token number">102</span><span class="token keyword">ORDER</span> <span class="token keyword">BY</span> sid <span class="token keyword">DESC</span><span class="token punctuation">;</span>SID<span class="token number">106</span><span class="token number">105</span><span class="token number">104</span><span class="token number">103</span><span class="token number">102</span><span class="token number">101</span></code></pre><p><a name="f4ef5c03"></a></p><h2 id="ORDER-BY-字段-ASC-正序排列，默认为正"><a href="#ORDER-BY-字段-ASC-正序排列，默认为正" class="headerlink" title="ORDER BY 字段 ASC 正序排列，默认为正"></a>ORDER BY 字段 ASC 正序排列，默认为正</h2><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span>  SID<span class="token keyword">FROM</span>  fruits<span class="token keyword">WHERE</span> id <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>  <span class="token operator">OR</span> sid <span class="token operator">></span> <span class="token number">102</span><span class="token keyword">ORDER</span> <span class="token keyword">BY</span> sid <span class="token keyword">ASC</span><span class="token punctuation">;</span>SID<span class="token number">101</span><span class="token number">102</span><span class="token number">103</span><span class="token number">104</span><span class="token number">105</span><span class="token number">106</span></code></pre><p><a name="a8aa86da"></a></p><h1 id="GROUP-BY-对查询结果进行分组"><a href="#GROUP-BY-对查询结果进行分组" class="headerlink" title="GROUP BY 对查询结果进行分组"></a>GROUP BY 对查询结果进行分组</h1><p><a name="c84edd03"></a></p><h2 id="不分组"><a href="#不分组" class="headerlink" title="不分组"></a>不分组</h2><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> SID <span class="token keyword">FROM</span> fruits<span class="token punctuation">;</span>SID<span class="token number">101</span><span class="token number">101</span><span class="token number">102</span><span class="token number">105</span><span class="token number">102</span><span class="token number">102</span><span class="token number">103</span><span class="token number">101</span><span class="token number">103</span><span class="token number">104</span><span class="token number">104</span><span class="token number">106</span></code></pre><p><a name="c7a11bc9"></a></p><h2 id="将相同的内容分到同一个组里面"><a href="#将相同的内容分到同一个组里面" class="headerlink" title="将相同的内容分到同一个组里面"></a>将相同的内容分到同一个组里面</h2><blockquote><p>分组之后，重复的都被分到一组</p></blockquote><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> SID <span class="token keyword">FROM</span> fruits <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> SID <span class="token punctuation">;</span>SID<span class="token number">101</span><span class="token number">102</span><span class="token number">105</span><span class="token number">103</span><span class="token number">104</span><span class="token number">106</span></code></pre><p><a name="4b3bf9cc"></a></p><h2 id="GROUP-CONCAT查看分组后的数目和内容"><a href="#GROUP-CONCAT查看分组后的数目和内容" class="headerlink" title="GROUP_CONCAT查看分组后的数目和内容"></a>GROUP_CONCAT查看分组后的数目和内容</h2><p>查看分组中的各个字段内容 GROUP_CONCAT( )</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> SID<span class="token punctuation">,</span><span class="token function">COUNT</span><span class="token punctuation">(</span>NAME<span class="token punctuation">)</span><span class="token punctuation">,</span>GROUP_CONCAT<span class="token punctuation">(</span>NAME<span class="token punctuation">)</span> <span class="token keyword">FROM</span> fruits <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> sid<span class="token punctuation">;</span>SID    <span class="token function">count</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>    group_concat<span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token number">101</span>    <span class="token number">3</span>    apple<span class="token punctuation">,</span>blackberry<span class="token punctuation">,</span>cherry<span class="token number">102</span>    <span class="token number">3</span>    orange<span class="token punctuation">,</span>banana<span class="token punctuation">,</span>grape<span class="token number">103</span>    <span class="token number">2</span>    coconut<span class="token punctuation">,</span>apricot<span class="token number">104</span>    <span class="token number">2</span>    lemon<span class="token punctuation">,</span>berry<span class="token number">105</span>    <span class="token number">1</span>    melon<span class="token number">106</span>    <span class="token number">1</span>    mango</code></pre><p><a name="cf7eeef3"></a></p><h2 id="HAVING条件过滤，相当于WHERE，只能分组用"><a href="#HAVING条件过滤，相当于WHERE，只能分组用" class="headerlink" title="HAVING条件过滤，相当于WHERE，只能分组用"></a>HAVING条件过滤，相当于WHERE，只能分组用</h2><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> SID<span class="token punctuation">,</span><span class="token function">COUNT</span><span class="token punctuation">(</span>NAME<span class="token punctuation">)</span><span class="token punctuation">,</span>GROUP_CONCAT<span class="token punctuation">(</span>NAME<span class="token punctuation">)</span> <span class="token keyword">FROM</span> fruits <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> sid <span class="token keyword">HAVING</span> SID <span class="token operator">></span> <span class="token number">103</span><span class="token punctuation">;</span>SID    <span class="token function">count</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>    group_concat<span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token number">104</span>    <span class="token number">2</span>    lemon<span class="token punctuation">,</span>berry<span class="token number">105</span>    <span class="token number">1</span>    melon<span class="token number">106</span>    <span class="token number">1</span>    mango</code></pre><p><a name="6c4701bd"></a></p><h1 id="LIMIT-限制查询结果的数量"><a href="#LIMIT-限制查询结果的数量" class="headerlink" title="LIMIT 限制查询结果的数量"></a>LIMIT 限制查询结果的数量</h1><blockquote><p>LIMIT 位置偏移量,行数<br>默认位置偏移量为0，即第1行</p></blockquote><p>通过LIMIT可以选择数据库表中的任意行数，也就是不用从第一条记录开始遍历，可以直接拿到 第5条到第10条的记录，也可以直接拿到第12到第15条的记录。</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> fruits <span class="token keyword">WHERE</span> ID <span class="token keyword">LIMIT</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">;</span>id    sid    name    price<span class="token number">1</span>    <span class="token number">101</span>    apple    <span class="token number">5.20</span><span class="token number">2</span>    <span class="token number">101</span>    blackberry    <span class="token number">10.20</span><span class="token number">3</span>    <span class="token number">102</span>    orange    <span class="token number">11.20</span><span class="token number">4</span>    <span class="token number">105</span>    melon    <span class="token number">8.20</span><span class="token number">5</span>    <span class="token number">102</span>    banana    <span class="token number">10.30</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> fruits <span class="token keyword">WHERE</span> ID <span class="token keyword">LIMIT</span> <span class="token number">5</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">;</span>id    sid    name    price<span class="token number">6</span>    <span class="token number">102</span>    grape    <span class="token number">5.30</span><span class="token number">7</span>    <span class="token number">103</span>    coconut    <span class="token number">9.20</span><span class="token number">8</span>    <span class="token number">101</span>    cherry    <span class="token number">3.20</span><span class="token number">9</span>    <span class="token number">103</span>    apricot    <span class="token number">2.20</span><span class="token number">10</span>    <span class="token number">104</span>    lemon    <span class="token number">6.40</span><span class="token number">11</span>    <span class="token number">104</span>    berry    <span class="token number">7.60</span><span class="token number">12</span>    <span class="token number">106</span>    mango    <span class="token number">15.60</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
            <tag> databases </tag>
            
            <tag> 数据库 </tag>
            
            <tag> web </tag>
            
            <tag> sql单表查询 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL 教程：多表查询</title>
      <link href="/databases-mysql-many-query/"/>
      <url>/databases-mysql-many-query/</url>
      
        <content type="html"><![CDATA[<p><a name="3cb64573"></a></p><h1 id="创建数据库并插入数据"><a href="#创建数据库并插入数据" class="headerlink" title="创建数据库并插入数据"></a>创建数据库并插入数据</h1><p><a name="cd857cef"></a></p><h2 id="表一，fruits，水果"><a href="#表一，fruits，水果" class="headerlink" title="表一，fruits，水果"></a>表一，fruits，水果</h2><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true"># 创建表，数据类型请自行查询</span><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> fruits <span class="token punctuation">(</span>  id <span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  sid <span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  NAME CHAR<span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  price <span class="token keyword">DECIMAL</span> <span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true"># 表中插入数据</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> fruits<span class="token keyword">VALUES</span>  <span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token string">'apple'</span><span class="token punctuation">,</span> <span class="token number">5.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token string">'blackberry'</span><span class="token punctuation">,</span> <span class="token number">10.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token number">102</span><span class="token punctuation">,</span> <span class="token string">'orange'</span><span class="token punctuation">,</span> <span class="token number">11.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'4'</span><span class="token punctuation">,</span> <span class="token number">105</span><span class="token punctuation">,</span> <span class="token string">'melon'</span><span class="token punctuation">,</span> <span class="token number">8.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'5'</span><span class="token punctuation">,</span> <span class="token number">102</span><span class="token punctuation">,</span> <span class="token string">'banana'</span><span class="token punctuation">,</span> <span class="token number">10.3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'6'</span><span class="token punctuation">,</span> <span class="token number">102</span><span class="token punctuation">,</span> <span class="token string">'grape'</span><span class="token punctuation">,</span> <span class="token number">5.3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'7'</span><span class="token punctuation">,</span> <span class="token number">103</span><span class="token punctuation">,</span> <span class="token string">'coconut'</span><span class="token punctuation">,</span> <span class="token number">9.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'8'</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token string">'cherry'</span><span class="token punctuation">,</span> <span class="token number">3.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'9'</span><span class="token punctuation">,</span> <span class="token number">103</span><span class="token punctuation">,</span> <span class="token string">'apricot'</span><span class="token punctuation">,</span> <span class="token number">2.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'10'</span><span class="token punctuation">,</span> <span class="token number">104</span><span class="token punctuation">,</span> <span class="token string">'lemon'</span><span class="token punctuation">,</span> <span class="token number">6.4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'11'</span><span class="token punctuation">,</span> <span class="token number">104</span><span class="token punctuation">,</span> <span class="token string">'berry'</span><span class="token punctuation">,</span> <span class="token number">7.6</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'12'</span><span class="token punctuation">,</span> <span class="token number">106</span><span class="token punctuation">,</span> <span class="token string">'mango'</span><span class="token punctuation">,</span> <span class="token number">15.6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">(</span><span class="token string">'13'</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token string">'HHHHHH'</span><span class="token punctuation">,</span> <span class="token number">12.6</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><a name="3317a667"></a></p><h2 id="表二，suppliers，供应商"><a href="#表二，suppliers，供应商" class="headerlink" title="表二，suppliers，供应商"></a>表二，suppliers，供应商</h2><pre class=" language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> suppliers <span class="token punctuation">(</span>  sid <span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  sName CHAR<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  city CHAR<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  zip CHAR<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  scall CHAR<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>sid<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> suppliers<span class="token keyword">VALUES</span>  <span class="token punctuation">(</span>    <span class="token number">101</span><span class="token punctuation">,</span>    <span class="token string">'Supplies A'</span><span class="token punctuation">,</span>    <span class="token string">'Tianjin'</span><span class="token punctuation">,</span>    <span class="token string">'400000'</span><span class="token punctuation">,</span>    <span class="token string">'18075'</span>  <span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span>    <span class="token number">102</span><span class="token punctuation">,</span>    <span class="token string">'Supplies B'</span><span class="token punctuation">,</span>    <span class="token string">'Chongqing'</span><span class="token punctuation">,</span>    <span class="token string">'400000'</span><span class="token punctuation">,</span>    <span class="token string">'44333'</span>  <span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span>    <span class="token number">103</span><span class="token punctuation">,</span>    <span class="token string">'Supplies C'</span><span class="token punctuation">,</span>    <span class="token string">'Shanghai'</span><span class="token punctuation">,</span>    <span class="token string">'400000'</span><span class="token punctuation">,</span>    <span class="token string">'90046'</span>  <span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span>    <span class="token number">104</span><span class="token punctuation">,</span>    <span class="token string">'Supplies D'</span><span class="token punctuation">,</span>    <span class="token string">'Zhongshan'</span><span class="token punctuation">,</span>    <span class="token string">'400000'</span><span class="token punctuation">,</span>    <span class="token string">'11111'</span>  <span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span>    <span class="token number">105</span><span class="token punctuation">,</span>    <span class="token string">'Supplies E'</span><span class="token punctuation">,</span>    <span class="token string">'Taiyuang'</span><span class="token punctuation">,</span>    <span class="token string">'400000'</span><span class="token punctuation">,</span>    <span class="token string">'22222'</span>  <span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span>    <span class="token number">106</span><span class="token punctuation">,</span>    <span class="token string">'Supplies F'</span><span class="token punctuation">,</span>    <span class="token string">'Beijing'</span><span class="token punctuation">,</span>    <span class="token string">'400000'</span><span class="token punctuation">,</span>    <span class="token string">'45678'</span>  <span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span>    <span class="token number">107</span><span class="token punctuation">,</span>    <span class="token string">'Supplies G'</span><span class="token punctuation">,</span>    <span class="token string">'Zhengzhou'</span><span class="token punctuation">,</span>    <span class="token string">'400000'</span><span class="token punctuation">,</span>    <span class="token string">'33332'</span>  <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><a name="37722d2d"></a></p><h2 id="表3，顾客"><a href="#表3，顾客" class="headerlink" title="表3，顾客"></a>表3，顾客</h2><pre class=" language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> people <span class="token punctuation">(</span>  id <span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  NAME <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  num <span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  CITY <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> people<span class="token keyword">VALUES</span>  <span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token string">'Shanghai'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">'TIANJIN'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'BEIJING'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'4'</span><span class="token punctuation">,</span> <span class="token string">'D'</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token string">'NANCHANG'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'5'</span><span class="token punctuation">,</span> <span class="token string">'E'</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> <span class="token string">'NANJING'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'6'</span><span class="token punctuation">,</span> <span class="token string">'F'</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token string">'JIANGXI'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'7'</span><span class="token punctuation">,</span> <span class="token string">'G'</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token string">'SHENZHEN'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'8'</span><span class="token punctuation">,</span> <span class="token string">'H'</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> <span class="token string">'WUHAN'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'9'</span><span class="token punctuation">,</span> <span class="token string">'I'</span><span class="token punctuation">,</span> <span class="token number">76</span><span class="token punctuation">,</span> <span class="token string">'GUANZHOU'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'10'</span><span class="token punctuation">,</span> <span class="token string">'G'</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token string">'LIAONING'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><a name="21ba516d"></a></p><h1 id="普通双表查询"><a href="#普通双表查询" class="headerlink" title="普通双表查询"></a>普通双表查询</h1><p>查询水果的供应商编码、名字即对应的水果名称和价格</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token number">f</span><span class="token punctuation">.</span>SID<span class="token punctuation">,</span>S<span class="token punctuation">.</span>SNAME<span class="token punctuation">,</span>F<span class="token punctuation">.</span>name<span class="token punctuation">,</span>F<span class="token punctuation">.</span>price <span class="token keyword">FROM</span> fruits <span class="token keyword">AS</span> <span class="token number">f</span> <span class="token punctuation">,</span>suppliers <span class="token keyword">AS</span> S <span class="token keyword">WHERE</span> F<span class="token punctuation">.</span>SID <span class="token operator">=</span>S<span class="token punctuation">.</span>SID<span class="token punctuation">;</span>SID    SNAME    name    price<span class="token number">101</span>    Supplies A    apple    <span class="token number">5.20</span><span class="token number">101</span>    Supplies A    blackberry    <span class="token number">10.20</span><span class="token number">102</span>    Supplies B    orange    <span class="token number">11.20</span><span class="token number">105</span>    Supplies E    melon    <span class="token number">8.20</span><span class="token number">102</span>    Supplies B    banana    <span class="token number">10.30</span><span class="token number">102</span>    Supplies B    grape    <span class="token number">5.30</span><span class="token number">103</span>    Supplies C    coconut    <span class="token number">9.20</span><span class="token number">101</span>    Supplies A    cherry    <span class="token number">3.20</span><span class="token number">103</span>    Supplies C    apricot    <span class="token number">2.20</span><span class="token number">104</span>    Supplies D    lemon    <span class="token number">6.40</span><span class="token number">104</span>    Supplies D    berry    <span class="token number">7.60</span><span class="token number">106</span>    Supplies F    mango    <span class="token number">15.60</span></code></pre><p><a name="301f3da4"></a></p><h1 id="内连接，两个表的公共部分"><a href="#内连接，两个表的公共部分" class="headerlink" title="内连接，两个表的公共部分"></a>内连接，两个表的公共部分</h1><p>格式：表名 (INNER) JOIN 表名 ON 连接条件</p><p><a name="b889a854"></a></p><h2 id="双表内连接查询"><a href="#双表内连接查询" class="headerlink" title="双表内连接查询"></a>双表内连接查询</h2><p>查询水果的供应商编码、名字、城市即对应的水果名称和价格</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token number">f</span><span class="token punctuation">.</span>SID<span class="token punctuation">,</span>S<span class="token punctuation">.</span>SNAME<span class="token punctuation">,</span>F<span class="token punctuation">.</span>name<span class="token punctuation">,</span>F<span class="token punctuation">.</span>price<span class="token punctuation">,</span>s<span class="token punctuation">.</span>city <span class="token keyword">FROM</span> fruits <span class="token keyword">AS</span> <span class="token number">f</span> <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> suppliers <span class="token keyword">AS</span> S <span class="token keyword">ON</span> F<span class="token punctuation">.</span>SID <span class="token operator">=</span>S<span class="token punctuation">.</span>SID<span class="token punctuation">;</span><span class="token keyword">SELECT</span> <span class="token number">f</span><span class="token punctuation">.</span>SID<span class="token punctuation">,</span>S<span class="token punctuation">.</span>SNAME<span class="token punctuation">,</span>F<span class="token punctuation">.</span>name<span class="token punctuation">,</span>F<span class="token punctuation">.</span>price<span class="token punctuation">,</span>s<span class="token punctuation">.</span>city <span class="token keyword">FROM</span> fruits <span class="token keyword">AS</span> <span class="token number">f</span> <span class="token keyword">JOIN</span> suppliers <span class="token keyword">AS</span> S <span class="token keyword">ON</span> F<span class="token punctuation">.</span>SID <span class="token operator">=</span>S<span class="token punctuation">.</span>SID<span class="token punctuation">;</span>SID    SNAME    name    price    city<span class="token number">101</span>    Supplies A    apple    <span class="token number">5.20</span>    Tianjin<span class="token number">101</span>    Supplies A    blackberry    <span class="token number">10.20</span>    Tianjin<span class="token number">102</span>    Supplies B    orange    <span class="token number">11.20</span>    Chongqing<span class="token number">105</span>    Supplies E    melon    <span class="token number">8.20</span>    Taiyuang<span class="token number">102</span>    Supplies B    banana    <span class="token number">10.30</span>    Chongqing<span class="token number">102</span>    Supplies B    grape    <span class="token number">5.30</span>    Chongqing<span class="token number">103</span>    Supplies C    coconut    <span class="token number">9.20</span>    Shanghai<span class="token number">101</span>    Supplies A    cherry    <span class="token number">3.20</span>    Tianjin<span class="token number">103</span>    Supplies C    apricot    <span class="token number">2.20</span>    Shanghai<span class="token number">104</span>    Supplies D    lemon    <span class="token number">6.40</span>    Zhongshan<span class="token number">104</span>    Supplies D    berry    <span class="token number">7.60</span>    Zhongshan<span class="token number">106</span>    Supplies F    mango    <span class="token number">15.60</span>    Beijing</code></pre><p>发现和上面普通查询一样</p><p><a name="dfe513ee"></a></p><h2 id="自连接查询，即双表是同一张表"><a href="#自连接查询，即双表是同一张表" class="headerlink" title="自连接查询，即双表是同一张表"></a>自连接查询，即双表是同一张表</h2><p>查询供应id为2的水果供应商提供的其他水果名称</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token number">f2</span><span class="token punctuation">.</span>id<span class="token punctuation">,</span>F2<span class="token punctuation">.</span>name<span class="token punctuation">,</span><span class="token number">f2</span><span class="token punctuation">.</span>sid <span class="token keyword">FROM</span> fruits <span class="token keyword">AS</span> <span class="token number">f1</span> <span class="token keyword">JOIN</span> fruits <span class="token keyword">AS</span> F2 <span class="token keyword">ON</span> <span class="token number">f1</span><span class="token punctuation">.</span>sid <span class="token operator">=</span> <span class="token number">f2</span><span class="token punctuation">.</span>sid <span class="token operator">AND</span> <span class="token number">f1</span><span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>id    name    sid<span class="token number">1</span>    apple    <span class="token number">101</span><span class="token number">2</span>    blackberry    <span class="token number">101</span><span class="token number">8</span>    cherry    <span class="token number">101</span></code></pre><p>查询条件为表1，查询字段为表2</p><p><a name="e74aabfc"></a></p><h2 id="通过子句查询进行内链接"><a href="#通过子句查询进行内链接" class="headerlink" title="通过子句查询进行内链接"></a>通过子句查询进行内链接</h2><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> fruits<span class="token punctuation">.</span>id<span class="token punctuation">,</span>fruits<span class="token punctuation">.</span>name<span class="token punctuation">,</span>fruits<span class="token punctuation">.</span>sid <span class="token keyword">FROM</span> fruits <span class="token keyword">WHERE</span> fruits<span class="token punctuation">.</span>SID <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> fruits<span class="token punctuation">.</span>SID <span class="token keyword">FROM</span> fruits <span class="token keyword">WHERE</span> fruits<span class="token punctuation">.</span>ID <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>id    name    sid<span class="token number">1</span>    apple    <span class="token number">101</span><span class="token number">2</span>    blackberry    <span class="token number">101</span><span class="token number">8</span>    cherry    <span class="token number">101</span></code></pre><p><a name="3f1b8d7a"></a></p><h1 id="外连接"><a href="#外连接" class="headerlink" title="外连接"></a>外连接</h1><p><a name="811ef322"></a></p><h2 id="左外连接，左表全部和左右表公共部分集合"><a href="#左外连接，左表全部和左右表公共部分集合" class="headerlink" title="左外连接，左表全部和左右表公共部分集合"></a>左外连接，左表全部和左右表公共部分集合</h2><p>格式： 表名 LEFT (OUTER) JOIN 表名 ON 条件</p><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true"># SUPPLIERS 为左表，显示全部内容</span><span class="token comment" spellcheck="true"># FRUITS 为右表，显示与左表公共部分</span><span class="token comment" spellcheck="true"># 右表其他内容显示为空，NULL</span><span class="token keyword">SELECT</span> s<span class="token punctuation">.</span>sid<span class="token punctuation">,</span>s<span class="token punctuation">.</span>sname<span class="token punctuation">,</span><span class="token number">f</span><span class="token punctuation">.</span>id<span class="token punctuation">,</span><span class="token number">f</span><span class="token punctuation">.</span>name <span class="token keyword">FROM</span> suppliers <span class="token keyword">AS</span> s <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> fruits <span class="token keyword">AS</span> <span class="token number">f</span> <span class="token keyword">ON</span> <span class="token number">f</span><span class="token punctuation">.</span>sid <span class="token operator">=</span> s<span class="token punctuation">.</span>sid <span class="token punctuation">;</span>sid    sname    id    name<span class="token number">101</span>    Supplies A    <span class="token number">1</span>    apple<span class="token number">101</span>    Supplies A    <span class="token number">2</span>    blackberry<span class="token number">102</span>    Supplies B    <span class="token number">3</span>    orange<span class="token number">105</span>    Supplies E    <span class="token number">4</span>    melon<span class="token number">102</span>    Supplies B    <span class="token number">5</span>    banana<span class="token number">102</span>    Supplies B    <span class="token number">6</span>    grape<span class="token number">103</span>    Supplies C    <span class="token number">7</span>    coconut<span class="token number">101</span>    Supplies A    <span class="token number">8</span>    cherry<span class="token number">103</span>    Supplies C    <span class="token number">9</span>    apricot<span class="token number">104</span>    Supplies D    <span class="token number">10</span>    lemon<span class="token number">104</span>    Supplies D    <span class="token number">11</span>    berry<span class="token number">106</span>    Supplies F    <span class="token number">12</span>    mango<span class="token number">107</span>    Supplies G    <span class="token boolean">NULL</span>  <span class="token boolean">NULL</span></code></pre><p><a name="9da13b9e"></a></p><h2 id="右外连接，右表全部和左右表公共部分集合"><a href="#右外连接，右表全部和左右表公共部分集合" class="headerlink" title="右外连接，右表全部和左右表公共部分集合"></a>右外连接，右表全部和左右表公共部分集合</h2><blockquote><p>与左外连接相似,就是全部显示右表及公共部分</p></blockquote><p>格式： 表名 RIGHT (OUTER) JOIN 表名 ON 条件</p><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true"># SUPPLIERS 为左表，显示与右表公共部分</span><span class="token comment" spellcheck="true"># FRUITS 为右表，显示全部内容</span><span class="token comment" spellcheck="true"># 左表其他内容显示为空，NULL</span><span class="token keyword">SELECT</span> s<span class="token punctuation">.</span>sid<span class="token punctuation">,</span>s<span class="token punctuation">.</span>sname<span class="token punctuation">,</span><span class="token number">f</span><span class="token punctuation">.</span>id<span class="token punctuation">,</span><span class="token number">f</span><span class="token punctuation">.</span>name <span class="token keyword">FROM</span> suppliers <span class="token keyword">AS</span> s <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> fruits <span class="token keyword">AS</span> <span class="token number">f</span> <span class="token keyword">ON</span> <span class="token number">f</span><span class="token punctuation">.</span>sid <span class="token operator">=</span> s<span class="token punctuation">.</span>sid <span class="token punctuation">;</span>sid    sname    id    name<span class="token number">101</span>    Supplies A    <span class="token number">1</span>    apple<span class="token number">101</span>    Supplies A    <span class="token number">2</span>    blackberry<span class="token number">102</span>    Supplies B    <span class="token number">3</span>    orange<span class="token number">105</span>    Supplies E    <span class="token number">4</span>    melon<span class="token number">102</span>    Supplies B    <span class="token number">5</span>    banana<span class="token number">102</span>    Supplies B    <span class="token number">6</span>    grape<span class="token number">103</span>    Supplies C    <span class="token number">7</span>    coconut<span class="token number">101</span>    Supplies A    <span class="token number">8</span>    cherry<span class="token number">103</span>    Supplies C    <span class="token number">9</span>    apricot<span class="token number">104</span>    Supplies D    <span class="token number">10</span>    lemon<span class="token number">104</span>    Supplies D    <span class="token number">11</span>    berry<span class="token number">106</span>    Supplies F    <span class="token number">12</span>    mango<span class="token boolean">NULL</span>  <span class="token boolean">NULL</span>    <span class="token number">13</span>    HHHHHH</code></pre><p><a name="8f5c198c"></a></p><h1 id="三表查询"><a href="#三表查询" class="headerlink" title="三表查询"></a>三表查询</h1><ul><li>表一和表二<code>sid</code>关联</li><li>表一和表三<code>id</code>关联</li></ul><p>查询供应商Supplies B供应的水果顾客购买量</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span>  s<span class="token punctuation">.</span>city<span class="token punctuation">,</span>  s<span class="token punctuation">.</span>sName<span class="token punctuation">,</span>  <span class="token number">f</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span>  p<span class="token punctuation">.</span>NAME<span class="token punctuation">,</span>  p<span class="token punctuation">.</span>num<span class="token keyword">FROM</span>  fruits <span class="token keyword">AS</span> F  <span class="token keyword">JOIN</span> suppliers <span class="token keyword">AS</span> s    <span class="token keyword">ON</span> <span class="token number">f</span><span class="token punctuation">.</span>sid <span class="token operator">=</span> s<span class="token punctuation">.</span>sid    <span class="token operator">AND</span> s<span class="token punctuation">.</span>sName <span class="token operator">=</span> <span class="token string">'Supplies B'</span>  <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> people <span class="token keyword">AS</span> p    <span class="token keyword">ON</span> <span class="token number">f</span><span class="token punctuation">.</span>id <span class="token operator">=</span> p<span class="token punctuation">.</span>id<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> p<span class="token punctuation">.</span>num <span class="token keyword">DESC</span><span class="token punctuation">;</span>city    sName    name    NAME    numChongqing    Supplies B    banana    E    <span class="token number">56</span>Chongqing    Supplies B    grape    F    <span class="token number">15</span>Chongqing    Supplies B    orange    C    <span class="token number">3</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
            <tag> databases </tag>
            
            <tag> 数据库 </tag>
            
            <tag> web </tag>
            
            <tag> sql多表查询 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
